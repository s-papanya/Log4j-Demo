<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Upload Product Images (.zip)</title>
</head>
<body>
  <h3>อัปโหลดรูปสินค้า (.zip เท่านั้น)</h3>
  <input type="file" id="zipInput" accept=".zip" />
  <button id="uploadBtn">อัปโหลด</button>
  <pre id="status"></pre>

<script>
const uploadBtn = document.getElementById('uploadBtn');
const zipInput = document.getElementById('zipInput');
const statusBox = document.getElementById('status');
const productId = 123; // mock product id สำหรับทดสอบ

uploadBtn.addEventListener('click', async () => {
  statusBox.textContent = '';
  const file = zipInput.files[0];
  if (!file) { statusBox.textContent = 'กรุณาเลือกไฟล์ .zip'; return; }

  const form = new FormData();
  form.append('file', file);

  const resp = await fetch(`/products/${productId}/images/upload`, {
    method: 'POST',
    body: form
  });
  const data = await resp.json();
  statusBox.textContent = JSON.stringify(data, null, 2);
});
</script>
</body>
</html>
